{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createIdRemapMiddleware = void 0;\n\nvar getUniqueId_1 = require(\"./getUniqueId\");\n\nfunction createIdRemapMiddleware() {\n  return function (req, res, next, _end) {\n    var originalId = req.id;\n    var newId = getUniqueId_1.getUniqueId();\n    req.id = newId;\n    res.id = newId;\n    next(function (done) {\n      req.id = originalId;\n      res.id = originalId;\n      done();\n    });\n  };\n}\n\nexports.createIdRemapMiddleware = createIdRemapMiddleware;","map":{"version":3,"mappings":";;;;;;;AAAA;;AAGA,SAAgBA,uBAAhB,GAAuC;AACrC,SAAO,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAiBC,IAAjB,EAAyB;AAC9B,QAAMC,UAAU,GAAGJ,GAAG,CAACK,EAAvB;AACA,QAAMC,KAAK,GAAGC,2BAAd;AACAP,OAAG,CAACK,EAAJ,GAASC,KAAT;AACAL,OAAG,CAACI,EAAJ,GAASC,KAAT;AACAJ,QAAI,CAAC,UAACM,IAAD,EAAS;AACZR,SAAG,CAACK,EAAJ,GAASD,UAAT;AACAH,SAAG,CAACI,EAAJ,GAASD,UAAT;AACAI,UAAI;AACL,KAJG,CAAJ;AAKD,GAVD;AAWD;;AAZDC","names":["createIdRemapMiddleware","req","res","next","_end","originalId","id","newId","getUniqueId_1","done","exports"],"sourceRoot":"","sources":["../src/idRemapMiddleware.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}